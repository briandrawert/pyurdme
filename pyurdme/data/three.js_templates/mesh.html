<!-- For these URLs to work with IPython, you have to put the files in $HOME/.ipython/profile_*/static/custom/ -->

<!--<script src="/static/custom/three.js"></script>
<script src="/static/custom/OrbitControls.js"></script>-->

<!-- For some reasons I am getting THREE undefined with the above imports. For me, the imports below works. -->
<script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
<script src="https://rawgithub.com/mrdoob/three.js/master/examples/js/controls/OrbitControls.js"></script>

<script>

    var pyurdme_mesh_json = ###PYURDME_MESH_JSON###;
    var displayareaid = "###DISPLAYAREAID###";
    
    //dom = $("#displayarea")
    var dom = document.getElementById(displayareaid);
    var scene = new THREE.Scene();
    var width = $("#"+displayareaid).width();
    var height = width;
    var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize( width, height);
    //renderer.setSize( window.innerWidth, window.innerHeight );
    //document.body.appendChild( renderer.domElement );
    //dom.appendChild(renderer.domElement);
    dom.appendChild( renderer.domElement );
    
    var loader = new THREE.JSONLoader();
    function load_geometry(model){
        var material = new THREE.MeshLambertMaterial({color: "blue", wireframe:true});
        material.side = THREE.DoubleSide;
        mesh = new THREE.Mesh(model.geometry,material);
        //mesh.rotation.x = 5
        scene.add(mesh);
    }


    var model = loader.parse(pyurdme_mesh_json);
    load_geometry(model);

    camera.position.z = 1;
                    
    //var controls = new THREE.OrbitControls( camera );
    //controls.addEventListener( 'change', render );
    
    // add subtle blue ambient lighting
    var ambientLight = new THREE.AmbientLight(0x000044);
    scene.add(ambientLight);
    hemiLight = new THREE.HemisphereLight( 0x0000ff, 0x00ff00, 0.6 );
    scene.add(hemiLight);

    // directional lighting
    var directionalLight = new THREE.DirectionalLight(0xffffff);
    directionalLight.position.set(1, 1, 1).normalize();
    scene.add(directionalLight);


    function render() {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
    }
    render();
            
</script>

<body>
<div id="###DISPLAYAREAID###" class="cell"></div>
</body>



